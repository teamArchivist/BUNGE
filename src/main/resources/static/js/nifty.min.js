!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core"),require("bootstrap")):"function"==typeof define&&define.amd?define(["@popperjs/core","bootstrap"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).nifty=t(e.core,e.bootstrap)}(this,function(t,i){"use strict";const n={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)}},o={trim(e){return e.replace(/\s/g,"")},listenerName(e){return`_${e}Handler`},removeDots(e){return e.replace(/\./g,"")}};class e{constructor(e,t){if(e&&"object"==typeof e&&(this._element=e,this._parent=e.parentElement,t)){this._listener={};for(const i in t="string"==typeof t?{action:t=o.trim(t).split(",")}:t){var s="string"==typeof t[i]?o.trim(t[i]).split(","):t[i];this._createHandler(s,o.listenerName(i))}}}_createHandler(t,s){try{this[s]=this[s].bind(this)}catch(e){throw new Error(`Add a listener function called "${s}" to handle the ${t.toString()} event.`)}for(const e of t)this._listener[e]=s,this._element.addEventListener(e,this[s],!1)}dispose(){if(this._element&&this._listener)for(const e in this._listener)this._element.removeEventListener(e,this[this._listener[e]]);for(const t of Object.getOwnPropertyNames(this))this[t]=null}}var s="data-nf-toggler";const a={event:"click",dataKey:s,dataTargetKey:"data-nf-target",dataClassKey:"data-nf-class",toggleMode:{FullScreen:"fullscreen",FullPage:"fullpage",Dismiss:"dismiss",Class:"class"}};class r extends e{constructor(e,t){t=Object.assign(a,t);super(e,t.event),this._config=t,this._target=this._element.closest(this._element.getAttribute(this._config.dataTargetKey))||n.findOne(this._element.getAttribute(this._config.dataTargetKey)),this._element.getAttribute(this._config.dataTargetKey)||console.error(`The Toggler component MUST have a dataset called [${this._config.dataTargetKey}] to represent the target`),!this._target&&this._element.getAttribute(this._config.dataTargetKey)&&console.error(`Can't find a "${e.getAttribute(this._config.dataTargetKey)}" target`),this._toggleType=this._getToggleType(),this._status=this._updateStatus(),this._element.getAttribute(this._config.dataKey),this._toggleClass=this._element.getAttribute(this._config.dataClassKey),this._toggleType!=this._config.toggleMode.Class||this._element.getAttribute(this._config.dataClassKey)||console.error(`The Toggler component MUST have a dataset called [${this._config.dataClassKey}] to represent the class you want to toggle`)}static get Default(){return a}_actionHandler(){"FullScreen"==this._toggleType?this._fullscreen():"FullPage"==this._toggleType?this._fullpage():"Dismiss"==this._toggleType?this._dismiss():"Class"==this._toggleType&&this._class(),this._status=this._updateStatus()}_getToggleType(){for(const e in this._config.toggleMode)if(this._element.getAttribute(this._config.dataKey)==this._config.toggleMode[e])return e}_updateStatus(){return"FullScreen"==this._toggleType?document.fullscreenElement?"fullscreen":"normal":"FullPage"==this._toggleType?this._target.classList.contains("content-full-page")?"fullpage":"normal":"Dismiss"==this._toggleType?this._target?"normal":"dismissed":"Class"==this._toggleType?this._target.classList.contains(this._toggleClass)?"added":"removed":void 0}_fullscreen(){document.fullscreenElement?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this._target.requestFullscreen?this._target.requestFullscreen():this._target.webkitRequestFullscreen&&this._target.webkitRequestFullscreen()}_fullpage(){this._target.classList.toggle("content-full-page"),body.classList.toggle("body-sc")}_dismiss(){this._target.remove(),this._target=null,super.dispose()}_class(){this._target.classList.toggle(this._toggleClass)}getStatus(){return this._status}}n.find(`[${s}]`).forEach(e=>new r(e));class l extends e{constructor(e){super(e,{show:"show.bs.dropdown",hide:"hide.bs.dropdown"}),this._menu=n.findOne(".dropdown-menu",this._parent)}_showHandler(){this._menu.classList.remove("mot","mol","mor")}_hideHandler(){var t=this._menu?this._menu.getAttribute("data-popper-placement"):null;if(t){var s=["top","right-end","left-end"];t.includes("left")&&this._menu.classList.add("mol");for(let e=0;e<s.length;e++)if(t.includes(s[e])){this._menu.classList.add("mot");break}}this._menu.getAttribute("data-bs-popper")&&this._menu.classList.add("mst")}}n.find(".dropdown-toggle").forEach(e=>{n.find(".dropdown",e.parentElement)&&new l(e)});const c="click";var s=".nav-toggler",h=".sidebar-toggler";const d="mn--min",_="mn--max",g="mn--show",u="sb--show",m={event:c,eventSidebarsChange:"change.nf.sidebar",eventSidebarsChanged:"changed.nf.sidebar",selectorRoot:"#root",selectorToggleNav:s,selectorToggleSidebar:h,selectorNav:".mainnav",selectorSidebar:".sidebar"};class p extends e{constructor(e,t){t=Object.assign(m,t);super(e,t.event),this._config=t,this._root=n.findOne(this._config.selectorRoot),this._nav=n.findOne(this._config.selectorNav),this._sidebar=n.findOne(this._config.selectorSidebar),this._toggleType=e.classList.contains(this._config.selectorToggleNav.replace(".",""))?"NAV":"SIDEBAR",this._removeBackdrop=this._removeBackdrop.bind(this),this._eventSidebarsChange=new Event(this._config.eventSidebarsChange),this._eventSidebarsChanged=new Event(this._config.eventSidebarsChanged)}static get Default(){return m}_actionHandler(e){e.stopPropagation(),document.addEventListener(c,this._removeBackdrop,!1),"NAV"==this._toggleType?(window.innerWidth<992||!this._root.classList.contains(d)&&!this._root.classList.contains(_)?this._root.classList.toggle(g):(this._root.classList.toggle(d),this._root.classList.toggle(_)),this._nav.dispatchEvent(this._eventSidebarsChange),this._nav.addEventListener("transitionend",()=>this._nav.dispatchEvent(this._eventSidebarsChanged),{once:!0})):(this._root.classList.toggle(u),this._sidebar.dispatchEvent(this._eventSidebarsChange),this._sidebar.addEventListener("transitionend",()=>this._sidebar.dispatchEvent(this._eventSidebarsChanged),{once:!0})),document.dispatchEvent(this._eventSidebarsChange),this._transitionEnd=this._transitionEnd.bind(this),document.addEventListener("transitionend",this._transitionEnd,{once:!1})}_transitionEnd(e){"max-width"!=e.propertyName&&"transform"!=e.propertyName||(document.removeEventListener("transitionend",this._transitionEnd),document.dispatchEvent(this._eventSidebarsChanged))}_removeBackdrop(e){e.target!==this._root&&(e.target.closest(this._config.selectorNav)||e.target.closest(this._config.selectorSidebar))||(this._root.classList.remove(g),this._root.classList.contains("sb--stuck")||this._root.classList.remove(u),document.removeEventListener(c,this._removeBackdrop))}}n.find(s+", "+h).forEach(e=>new p(e));s=p.Default.eventSidebarsChange;const f="#root";const v={show:"show.bs.collapse",shown:"shown.bs.collapse",hide:"hide.bs.collapse"},b={placement:"right",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,9]}},{name:"arrow",options:{padding:15}},{name:"preventOverflow",options:{padding:7}}]},y={maxi:"mn--max",mini:"mn--min",push:"mn--push",slide:"mn--slide",reveal:"mn--reveal"};let C={eventSidebarsChange:s,eventOutsideTrigger:["click","touchend"],eventSubmenuToggler:["click","mouseenter"],selectorRoot:f,selectorContent:"#content",selectorNav:"#mainnav-container",selectorMininavToggle:".mininav-toggle",selectorMininavContent:".mininav-content"};class S extends e{constructor(e,t){super(e,(C=Object.assign(C,t)).eventSidebarsChange),E=E||this,this._config=C,this.update()}static get Default(){return C}static get mode(){var e=n.findOne(f);for(const t in y)if(e.classList.contains(y[t]))return t}static setmode(e){if(E){var t=n.findOne(C.selectorRoot);t.classList.remove("mn--show");for(const s in y)e==s?t.classList.add(y[s]):t.classList.remove(y[s]);E._actionHandler()}else console.error("Can't find the Main Navigation element, so be sure to set it up properly.")}get called(){return this._called}set called(e){this._called=e}update(){this._updateSelectors(),this._updateNavMode(),this._initializeCollapseMenu()}_actionHandler(){this._updateNavMode(),this._navSubmenus.forEach(e=>{"mini"==this._mode&&e._element.classList.contains("show")?e._bsCollapse.hide():"mini"!=this._mode&&(e._element.classList.contains("show")&&e._toggler.click(),e._popper)&&(e._popper.destroy(),e._popper=void 0)})}_updateSelectors(){this._root=n.findOne(this._config.selectorRoot),this._submenus=n.find(this._config.selectorMininavContent,this._element)}_updateNavMode(){for(const e in y)this._root.classList.contains(y[e])&&(this._mode=e)}_initializeCollapseMenu(){this._navSubmenus=this._submenus.map(e=>new w(e,this._config,this))}_addListenerClickOutside(){this._isListenerAdded||(this._isListenerAdded=!0,this._isOutsideNavigation=this._isOutsideNavigation.bind(this),this._config.eventOutsideTrigger.forEach(e=>document.addEventListener(e,this._isOutsideNavigation,!1)))}_removeListenerClickOutside(){this._isListenerAdded&&(this._isListenerAdded=!1,this._config.eventOutsideTrigger.forEach(e=>document.removeEventListener(e,this._isOutsideNavigation)))}_isOutsideNavigation(e){e.target!==this._root&&e.target.closest(this._config.selectorNav)||(this._navSubmenus.forEach(e=>e._bsCollapse.hide()),this._removeListenerClickOutside())}}class w extends e{constructor(e,t,s){super(e,v),this._config=t,this._mainnav=s,this._toggler=n.findOne(this._config.selectorMininavToggle,this._parent)||this._parent.closest(this._config.selectorMininavToggle),this._isLink=!this._parent.classList.contains("has-sub"),this._childCollapse=n.find(this._config.selectorMininavToggle,this._element),this._bsCollapse=new i.Collapse(e,{parent:this._parent.parentElement.classList.contains(o.removeDots(this._config.selectorMininavContent))?this._parent.parentElement:this._mainnav._element,toggle:this._toggler.classList.contains("active")&&"mini"!=this._mainnav._mode}),this._submenuToggle=this._submenuToggle.bind(this),this._config.eventSubmenuToggler.forEach(e=>{this._toggler.addEventListener(e,this._submenuToggle,!1)})}_submenuToggle(e){e.stopPropagation(),this._isLink||e.preventDefault(),"mini"!=this._mainnav._mode&&"mouseenter"==e.type||(this._mainnav.called=this._element,this._bsCollapse.toggle())}_showHandler(){if(!this._element.classList.contains("show"))if("mini"==this._mainnav._mode){if(!this._popper)try{this._popper=Popper.createPopper(this._toggler,this._element,b)}catch(e){this._popper=t.createPopper(this._toggler,this._element,b)}this._popper.update()}else this._toggler.classList.remove("collapsed")}_hideHandler(){var e;this._element.contains(this._mainnav.called)&&this._element!==this._mainnav.called||(this._isLink||this._toggler.classList.add("collapsed"),"mini"==this._mainnav._mode&&this._childCollapse.length&&(e=n.findOne(this._config.selectorMininavContent+".show",this._element))&&e.parentElement.querySelector(this._config.selectorMininavToggle).click())}_shownHandler(){"mini"==this._mainnav._mode?(this._popper.update(),this._mainnav._addListenerClickOutside()):(this._popper&&this._popper.destroy(),this._mainnav._removeListenerClickOutside())}}let E=n.findOne(C.selectorNav);E=E&&new S(E);h=".mode-switcher";const L="data-bs-theme";let T=new String,M=new Array,k=new Event("change.nf.colormode",{colorMode:document.documentElement.getAttribute(L)});const O={event:"change",selectorSwitcher:h,selectorSwitcherIcons:".mode-switcher-icon",availableColorMode:["auto","light","dark"],dataBSColorMode:L};class A extends e{constructor(e,t){t=Object.assign(O,t);super(e,t.event),M.push(this),this._config=t,this._icons=n.find(this._config.selectorSwitcherIcons,this._parent),this._updateColorMode(),this._updateState()}static setColorMode(e){"auto"==(T=e)&&(e=this.prefersTheme),document.documentElement.setAttribute(L,e),k.colorMode=e,document.dispatchEvent(k),M.forEach(e=>e._updateState())}static get prefersTheme(){return window.matchMedia("( prefers-color-scheme: dark )").matches?"dark":"light"}static get Default(){return O}_actionHandler(e){e=e.currentTarget;T="checkbox"==e.type&&null==e.getAttribute("value")?e.checked?"dark":"light":e.value,this.setColorMode(T)}_updateState(){if(this._updateColorMode(),"checkbox"==this._element.type&&null==this._element.getAttribute("value"))this._element.checked="dark"==this._colorMode;else if("select-one"==this._element.type){let e=this._element.querySelector(`[value="${T}"]`);(e=e||this._element.querySelector(`[value="${this._colorMode}"]`)).selected=!0}else{var e;"radio"!=this._element.type&&"checkbox"!=this._element.type||(this._element.checked=this._element.value==this._colorMode,"auto"==T&&((e=document.querySelector(`[name="${this._element.getAttribute("name")}"][value="auto"]`))?e.checked=!0:"checkbox"==this._element.type&&"auto"==this._element.value&&(this._element.checked=!0)))}this._icons.forEach(e=>{e.classList.contains("icon-"+this._colorMode)?e.classList.remove("d-none"):e.classList.add("d-none")})}_updateColorMode(){this._colorMode=document.documentElement.getAttribute(this._config.dataBSColorMode),""==T&&(T=this._colorMode)}_isAvailableMode(e){for(const t in this._config.availableColorMode)if(e==this._config.availableColorMode[t])return!0;return!1}_updateSwitchers(){M.forEach(e=>e._updateState(this._colorMode))}update(){this._updateState()}setColorMode(e){if(!this._isAvailableMode(e))throw new Error(`The color mode "${e}" isn't available.`);"auto"==e&&(e=this.constructor.prefersTheme),document.documentElement.setAttribute(this._config.dataBSColorMode,e),this._updateColorMode(),k.colorMode=this._colorMode,document.dispatchEvent(k),this._updateSwitchers()}dispose(){var e=M.indexOf(this);-1<e&&M.splice(e,1),super.dispose()}}return n.find(h).forEach(e=>new A(e)),{Toggler:r,SmoothDropdown:l,SidebarToggler:p,MainNavigation:S,ColorModeSwitcher:A}});